name = "pr"
description = "Generate pull request descriptions from commits and changes"
output_type = "GeneratedPullRequest"

task_prompt = """
Your task is to generate a pull request description for the given commits and changes.

## Workflow Steps:
1. Use git tools to examine commits and get diffs
2. Use file_analyzer to understand the context and purpose of modified files
3. Use code_search to find related patterns or similar recent PRs
4. Analyze the changes and generate an appropriate PR description

## Sample Workflows:

### Standard PR:
1. `git_log(from, to)` - Get commits in the PR
2. `git_diff(from, to)` - Get overall changes
3. `file_analyzer(file_paths=[path)` for key modified files - Understand what each file does
4. `git_log(count=10)pattern)` - Find similar recent PRs for style consistency
5. Generate PR description following project patterns

### Feature PR:
1. `git_log(from, to)` - See feature commits
2. `git_changed_files()` - Get all affected files
3. `file_analyzer(file_paths=[)` for new feature files - Understand the feature scope
4. `code_search(query=""feat|add")` - Check feature PR patterns
5. Generate description emphasizing the new capability and its benefits

### Bug Fix PR:
1. `git_log(from, to)` - Examine fix commits
2. `git_diff(from, to)` - See what was actually fixed
3. `file_analyzer(file_paths=[)` for the fixed file - Understand the component
4. `code_search(query=""fix|bug")` - Check fix PR patterns
5. Generate description clearly describing what was broken and how it's fixed

### Refactor PR:
1. `git_log(from, to)` - See refactor commits
2. `git_diff(from, to)` - See the scope of changes
3. `file_analyzer(file_paths=[)` for key architectural files - Understand the refactor scope
4. `code_search(query=""refactor")` - Check how refactors are typically described
5. Generate description emphasizing the refactor purpose and benefits

## Guidelines:
- Focus on what was changed and why it matters to users/reviewers
- Use clear, descriptive language
- Follow the project's existing PR description patterns
- Consider the scope and impact of changes
- Include testing notes when relevant
- Highlight breaking changes prominently
""" 